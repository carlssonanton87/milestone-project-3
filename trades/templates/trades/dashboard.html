{% extends 'trades/base.html' %}
{% block content %}

<h2 class="mb-4">Trading Dashboard</h2>

<form method="get" class="mb-4">
  <div class="row g-2 align-items-end">
    <div class="col-md-auto">
      <label for="range" class="form-label">Filter by Date</label>
      <select name="range" id="range" class="form-select">
        <option value="all" {% if range_filter == 'all' %}selected{% endif %}>All Time</option>
        <option value="today" {% if range_filter == 'today' %}selected{% endif %}>Today</option>
        <option value="this_week" {% if range_filter == 'this_week' %}selected{% endif %}>This Week</option>
        <option value="this_month" {% if range_filter == 'this_month' %}selected{% endif %}>This Month</option>
        <option value="last_month" {% if range_filter == 'last_month' %}selected{% endif %}>Last Month</option>
      </select>
    </div>
    <div class="col-md-auto">
      <button class="btn btn-primary" type="submit">Apply</button>
    </div>
  </div>
</form>


<div class="row text-center">
  <div class="col-md-4 mb-4">
    <div class="card bg-primary text-white">
      <div class="card-body">
        <h5>Total Trades</h5>
        <p class="fs-4">{{ total_trades }}</p>
      </div>
    </div>
  </div>

  <div class="col-md-4 mb-4">
    <div class="card bg-success text-white">
      <div class="card-body">
        <h5>Win Rate</h5>
        <p class="fs-4">{{ win_rate }}%</p>
      </div>
    </div>
  </div>

  <div class="col-md-4 mb-4">
    <div class="card bg-warning text-dark">
      <div class="card-body">
        <h5>Average Return</h5>
        <p class="fs-4">{{ avg_return }}%</p>
      </div>
    </div>
  </div>

  <div class="col-md-6 mb-4">
    <div class="card bg-info text-dark">
      <div class="card-body">
        <h5>Average Holding Time</h5>
        <p class="fs-4">{{ avg_holding }} days</p>
      </div>
    </div>
  </div>

  <div class="col-md-6 mb-4">
    <div class="card bg-dark text-white">
      <div class="card-body">
        <h5>Open vs Closed</h5>
        <p class="fs-4">{{ open_trades }} open / {{ closed_trades }} closed</p>
      </div>
    </div>
  </div>
</div>

{% endblock %}
